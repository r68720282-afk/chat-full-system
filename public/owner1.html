<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Owner Panel — Final</title>
<style>
:root{
  --bg:#07070b; --panel:#0b0b12; --accent:#00f2ff; --muted:#9aa;
  --card:#111218; --text:#eef;
}
html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Arial;background:linear-gradient(180deg,#03030a 0%, #07071a 100%);color:var(--text)}
.dark-theme{--bg:#07070b;--panel:#0b0b12;--accent:#00f2ff;--card:#111218;--text:#eef;}
.light-theme{--bg:#f5f5f5;--panel:#e0e0e0;--accent:#00aaff;--card:#fff;--text:#111;}
.top{height:60px;padding:10px 16px;display:flex;align-items:center;gap:12px;border-bottom:1px solid rgba(255,255,255,0.03);background:linear-gradient(90deg,#06060a, #0b0b12)}
.brand{font-weight:700;color:var(--accent);font-size:18px}
.wrap{display:flex;height:calc(100vh - 60px);}
.left{width:320px;background:var(--panel);border-right:1px solid rgba(255,255,255,0.03);padding:12px;overflow:auto}
.mid{flex:1;padding:14px;overflow:auto}
.btn{background:var(--accent);color:#000;padding:8px 10px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
.small{font-size:13px;color:var(--muted)}
.section-title{font-size:13px;color:var(--muted);margin:10px 0 8px}
.user-item{padding:8px;border-radius:8px;margin-bottom:8px;background:linear-gradient(180deg,#08080c,#05050a);cursor:pointer;border:1px solid rgba(255,255,255,0.02);display:flex;align-items:center;gap:6px}
.user-item:hover{transform:translateY(-1px)}
.panel{background:var(--card);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.02)}
.row{display:flex;gap:8px;align-items:center}
.muted{color:var(--muted);font-size:13px}
.partners-list > div{padding:8px;border-bottom:1px solid rgba(255,255,255,0.02);cursor:pointer}
pre{background:#000;padding:10px;border-radius:8px;color:#ddd;overflow:auto}
input,select,textarea{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text)}
.flex{display:flex;gap:8px}
.chip{display:inline-block;padding:6px 8px;background:#051; border-radius:8px;color:#bff;font-size:13px;margin-right:6px}
footer{padding:10px;text-align:center;color:var(--muted);font-size:13px}
.theme-toggle{margin-left:10px;cursor:pointer;font-weight:700;color:var(--accent)}
@media(max-width:900px){
  .left{width:240px}
  .wrap{flex-direction:column}
  .mid{height:calc(100vh - 200px);overflow:auto}
}
</style>
</head>
<body class="dark-theme">
<div class="top">
  <div class="brand">OWNER PANEL <span class="small" style="margin-left:10px">— Hidden Monitoring & Controls</span></div>
  <div style="flex:1"></div>
  <div class="small">Tip: Do not share this URL</div>
  <div class="theme-toggle" id="toggleTheme">Toggle Theme</div>
</div>

<div class="wrap">
  <div class="left">
    <div class="section-title">Owner Token</div>
    <div class="panel">
      <div class="small">Token supplied via query param <code>?token=...</code></div>
      <div style="margin-top:8px">
        <input id="tokenInput" placeholder="(optional) paste token here" />
        <div style="margin-top:8px" class="flex">
          <button id="btnSetToken" class="btn">Use Token</button>
          <button id="btnRefresh" class="btn" style="background:#66f">Refresh</button>
        </div>
      </div>
    </div>

    <div class="section-title">Online Users</div>
    <div id="onlineList" class="panel" style="padding:8px;min-height:150px">Loading...</div>

    <div class="section-title" style="margin-top:12px">Search / Quick Actions</div>
    <div class="panel">
      <input id="searchUser" placeholder="Search username..." />
      <div style="margin-top:8px" class="flex">
        <button id="btnSearch" class="btn">Search</button>
        <button id="btnListAll" class="btn" style="background:#66f">All</button>
      </div>
      <div style="margin-top:12px">
        <button id="btnLoadAlerts" class="btn" style="width:100%">Load Alerts</button>
      </div>
    </div>

    <div style="height:18px"></div>
    <div class="section-title">Alerts</div>
    <div id="alertsBox" class="panel" style="min-height:120px;max-height:240px;overflow:auto">—</div>

    <footer>Owner: hidden mode — use safely</footer>
  </div>

  <div class="mid">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
      <div style="flex:1">
        <h2 id="midTitle">Monitor</h2>
        <div class="small">Select a user on left to inspect DM partners / threads / device & IP info</div>
      </div>
      <div style="min-width:260px">
        <div class="small">Selected user:</div>
        <div id="selectedUser" style="font-weight:700;color:var(--accent);margin-top:6px">— none —</div>
      </div>
    </div>

    <div style="display:flex;gap:12px">
      <div style="width:320px">
        <div class="section-title">DM Partners</div>
        <div id="partnersBox" class="panel partners-list" style="min-height:240px">—</div>

        <div class="section-title" style="margin-top:12px">Device & IP</div>
        <div id="deviceInfo" class="panel small">—</div>

        <div style="margin-top:12px" class="section-title">Admin Controls (Owner)</div>
        <div class="panel">
          <div class="small">Actions will be implemented server-side</div>
          <div style="margin-top:8px" class="flex">
            <button id="btnKick" class="btn" style="background:#f44">Kick</button>
            <button id="btnMute" class="btn">Mute</button>
          </div>
          <div style="margin-top:8px" class="flex">
            <button id="btnBlock" class="btn">Block</button>
            <button id="btnUnblock" class="btn" style="background:#66f">Unblock</button>
          </div>
        </div>
      </div>

      <div style="flex:1">
        <div class="section-title">DM Thread Viewer</div>
        <div id="dmThread" class="panel" style="min-height:300px;max-height:60vh;overflow:auto">Select a partner to load thread</div>

        <div style="margin-top:12px" class="section-title">Activity Logs</div>
        <div id="logsBox" class="panel" style="min-height:160px;max-height:30vh;overflow:auto">—</div>
      </div>
    </div>

  </div>
</div>

<script src="ownerpanel-final.js"></script>
</body>
</html>
