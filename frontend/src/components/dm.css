/* frontend/src/components/dm.css */

/* DM popup base */
.dm-popup {
  width: 340px;
  max-height: 520px;
  background: linear-gradient(180deg,#07101a,#081622);
  color: #e6f0f6;
  border-radius: 10px;
  box-shadow: 0 8px 30px rgba(3,7,12,0.6);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  margin: 8px;
  border: 1px solid rgba(120,140,160,0.06);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* minimized variant */
.dm-popup.mini { width: 160px; height: 44px; max-height: none; }

/* header */
.dm-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 10px;
  gap: 8px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0));
}

.dm-header .left { display:flex; gap:10px; align-items:center; }
.dm-header .avatar {
  width:36px; height:36px; border-radius:8px; object-fit:cover; border:1px solid rgba(255,255,255,0.04);
}
.dm-header .username { font-weight:700; font-size:14px; }
.dm-header .status { font-size:11px; opacity:0.7; margin-top:2px; }

/* header buttons */
.dm-header .right button {
  background: transparent;
  border: none;
  color: #cde7f8;
  padding:6px;
  cursor:pointer;
  border-radius:6px;
}
.dm-header .right button:hover { background: rgba(255,255,255,0.02); }

/* body: messages */
.dm-body {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap:8px;
  background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.03));
}

/* single message */
.msg { display:flex; flex-direction:column; max-width:85%; }
.msg.me { align-self: flex-end; text-align:right; }
.msg.them { align-self: flex-start; text-align:left; }

/* bubble */
.bubble {
  display:inline-block;
  padding:8px 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.03);
  color: #e6f0f6;
  font-size:14px;
  line-height:1.2;
  box-shadow: 0 2px 8px rgba(0,0,0,0.35);
}

/* attachments/media preview spacing */
.msg img, .msg video, .msg audio {
  display:block;
  margin-top:8px;
  max-width: 260px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.03);
}

/* media uploader area */
.dm-media { padding:8px 10px; border-top:1px solid rgba(255,255,255,0.02); }

/* input area */
.dm-input {
  display:flex;
  gap:8px;
  padding: 10px;
  border-top: 1px solid rgba(255,255,255,0.02);
  align-items:center;
  background: linear-gradient(180deg, rgba(255,255,255,0.00), rgba(0,0,0,0.02));
}
.dm-input input {
  flex:1;
  padding:8px 10px;
  border-radius:8px;
  background: rgba(255,255,255,0.02);
  border:1px solid rgba(255,255,255,0.03);
  color: #e6f0f6;
  outline:none;
}
.dm-input input::placeholder { color: rgba(230,240,246,0.45); }
.dm-input button { padding:8px 12px; border-radius:8px; background:#0ea5a0; color:#022; border:none; cursor:pointer; }

/* typing indicator small text */
.typing { font-size:12px; opacity:0.85; color:#9bd7ff; margin-top:4px; }

/* minimized style */
.dm-popup.mini .dm-body,
.dm-popup.mini .dm-media,
.dm-popup.mini .dm-input { display:none; }

/* responsive tweak */
@media (max-width:720px) {
  .dm-popup { width: 92vw; max-height: 60vh; }
  .dm-popup.mini { width: 180px; }
}
